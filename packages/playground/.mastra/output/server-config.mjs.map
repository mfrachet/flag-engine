{"version":3,"file":"server-config.mjs","sources":["../../src/mastra/index.ts"],"sourcesContent":["import { Mastra } from \"@mastra/core/mastra\";\nimport { PinoLogger } from \"@mastra/loggers\";\nimport { LibSQLStore } from \"@mastra/libsql\";\nimport { weatherWorkflow } from \"./workflows/weather-workflow\";\nimport { flagEngineAgent } from \"./agents/flag-engine-agent\";\n\nconst ENV = process.env.NODE_ENV || \"development\";\n\nexport const mastra = new Mastra({\n  workflows: { weatherWorkflow },\n  agents: { flagEngineAgent },\n  storage: new LibSQLStore({\n    // stores telemetry, evals, ... into memory storage, if it needs to persist, change to file:../mastra.db\n    url: \":memory:\",\n  }),\n  logger: new PinoLogger({\n    name: \"Mastra\",\n    level: \"info\",\n  }),\n  server: {\n    // Disable CORS for development\n    cors:\n      ENV === \"development\"\n        ? {\n            origin: \"*\",\n            allowMethods: [\"*\"],\n            allowHeaders: [\"*\"],\n          }\n        : undefined,\n  },\n});\n"],"names":[],"mappings":"AASE,MAAA,GAAA,GAAA,OAAA,CAAW,GAAA,CAAE,QAAA,IAAA,aAAA;AAAA,MAAA,MAAA,GAAA;AAAA;AAAA,EAEY,IAAA,EAAA,QAAA,aAAA,GAAA;AAAA,IAEvB,MAAA,EAAA,GAAA;AAAA,IACD,YAAA,EAAA,CAAA,GAAA,CAAA;AAAA,IACD,YAAA,EAAA,CAAA,GAAA;AAAA,GAAuB,GAAA;;;;;"}